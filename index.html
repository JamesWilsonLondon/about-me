<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>JamesPod · About James Wilson</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    * { box-sizing: border-box; }

    body {
      font-family: "Lucida Grande", "Tahoma", "Verdana",
        system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: #dfe4ea;
      min-height: 100vh;
      margin: 0;
      padding: 24px 16px 40px;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      gap: 12px;
    }

    .ipod-wrapper {
      position: relative;
      display: inline-block;
    }

    .ipod {
      width: 280px;
      height: 460px;
      background: #ffffff;
      border-radius: 26px;
      border: 1px solid #d1d5db;
      padding: 22px 18px;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
    }

    /* Screen */

    .screen {
      background: linear-gradient(to bottom, #b8cfee, #e4ecfb);
      border-radius: 10px;
      border: 1px solid #7b8fb1;
      padding: 6px 6px 8px;
      height: 170px;
      color: #000000;
      font-size: 11px;
      display: flex;
      flex-direction: column;
      overflow: hidden;
    }

    .screen-top {
      display: flex;
      align-items: center;
      justify-content: space-between;
      font-size: 10px;
      margin-bottom: 4px;
    }

    .screen-top-left { font-weight: 600; }

    .screen-top-right {
      display: flex;
      align-items: center;
      gap: 6px;
    }

    .play-indicator {
      width: 10px;
      text-align: right;
      font-size: 10px;
    }

    .screen-battery {
      width: 16px;
      height: 9px;
      border-radius: 2px;
      border: 1px solid #000;
      position: relative;
      overflow: hidden;
    }

    .screen-battery::after {
      content: "";
      position: absolute;
      right: -3px;
      top: 2px;
      width: 2px;
      height: 4px;
      border-radius: 1px;
      background: #000;
    }

    .screen-battery-level {
      width: 70%;
      height: 100%;
      background: #000;
    }

    .screen-title-row {
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-weight: 600;
      padding: 2px 3px 3px;
      margin-bottom: 2px;
      background: rgba(0, 0, 80, 0.22);
      border-radius: 4px;
    }

    .screen-title-row span:last-child {
      font-size: 10px;
      font-weight: 400;
    }

    .screen-body {
      font-size: 11px;
      line-height: 1.35;
      padding: 2px 3px 0;
    }

    .screen-footer {
      margin-top: auto;
      padding-top: 4px;
      display: flex;
      align-items: center;
      justify-content: flex-end;
      gap: 4px;
      font-size: 9px;
      color: #111827;
      opacity: 0.8;
    }

    .screen-index-dot {
      width: 4px;
      height: 4px;
      border-radius: 999px;
      background: #9ca3af;
    }

    .screen-index-dot.active { background: #111827; }

    a.screen-link {
      color: #111827;
      text-decoration: underline;
    }

    a.screen-link:hover { text-decoration: none; }

    /* Now playing / EQ */

    .np-track {
      margin-bottom: 4px;
    }

    .np-title-wrapper {
      overflow: hidden;
      white-space: nowrap;
      border-radius: 3px;
    }

    .np-title {
      display: inline-block;
      padding-right: 32px;
    }

    body.playing .np-title {
      animation: scroll-title 14s linear infinite;
    }

    .np-sub {
      font-size: 10px;
      opacity: 0.8;
    }

    .np-bar {
      margin: 6px 0 4px;
      width: 100%;
      height: 4px;
      border-radius: 999px;
      background: rgba(0, 0, 60, 0.2);
      overflow: hidden;
    }

    .np-bar-fill {
      width: 20%;
      height: 100%;
      border-radius: inherit;
      background: #000c6a;
      transform-origin: left;
      transition: width 0.15s linear;
    }

    .np-bottom-row {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-top: 3px;
    }

    .np-volume {
      font-size: 10px;
    }

    .np-eq {
      display: flex;
      gap: 2px;
      align-items: flex-end;
      height: 12px;
    }

    .eq-bar {
      width: 3px;
      background: #000c6a;
      opacity: 0.8;
      transform-origin: bottom;
      height: 4px;
    }

    body.playing .eq-bar:nth-child(1) { animation: eq-bounce 0.4s ease-in-out infinite; }
    body.playing .eq-bar:nth-child(2) { animation: eq-bounce 0.5s ease-in-out infinite; }
    body.playing .eq-bar:nth-child(3) { animation: eq-bounce 0.35s ease-in-out infinite; }
    body.playing .eq-bar:nth-child(4) { animation: eq-bounce 0.55s ease-in-out infinite; }
    body.playing .eq-bar:nth-child(5) { animation: eq-bounce 0.38s ease-in-out infinite; }

    /* Playlist look */

    .menu-list {
      margin-top: 2px;
      padding: 0;
      list-style: none;
    }

    .menu-item {
      padding: 1px 2px;
    }

    .menu-item-active {
      background: #163463;
      color: #ffffff;
    }

    .menu-item-active::after {
      content: ">";
      float: right;
      padding-right: 2px;
    }

    /* Wheel */

    .wheel {
      width: 200px;
      height: 200px;
      margin: 0 auto;
      border-radius: 50%;
      background: #f3f4f6;
      border: 2px solid #e5e7eb;
      display: flex;
      align-items: center;
      justify-content: center;
      position: relative;
    }

    .wheel-button {
      position: absolute;
      font-size: 10px;
      text-transform: uppercase;
      letter-spacing: 0.16em;
      color: #6b7280;
      cursor: pointer;
      user-select: none;
      -webkit-tap-highlight-color: transparent;
    }

    .wheel-button.top    { top: 18px;  left: 50%; transform: translateX(-50%); }
    .wheel-button.bottom { bottom: 18px; left: 50%; transform: translateX(-50%); }
    .wheel-button.left   { left: 22px;  top: 50%; transform: translateY(-50%); }
    .wheel-button.right  { right: 22px; top: 50%; transform: translateY(-50%); }

    .wheel-button-icon {
      font-size: 16px;
      letter-spacing: 0;
    }

    .wheel-center {
      width: 82px;
      height: 82px;
      border-radius: 50%;
      background: #e5e7eb;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 11px;
      color: #4b5563;
      cursor: pointer;
      user-select: none;
      -webkit-tap-highlight-color: transparent;
    }

    .wheel-center:active,
    .wheel-button:active {
      transform: scale(0.97);
    }

    /* Dancing stick figures on top of iPod */

    .dancers {
      position: absolute;
      bottom: 100%;
      left: 50%;
      transform: translateX(-50%);
      width: 140px;
      height: 90px;
      pointer-events: none;
    }

    .dancer-group {
      position: absolute;
      bottom: -4px; /* just touching top edge of iPod */
      left: 50%;
      transform: translateX(-50%) translateY(-40px);
      display: flex;
      gap: 32px;
      align-items: flex-end;
      opacity: 0;
      transition: transform 0.35s ease-out, opacity 0.35s ease-out;
    }

    /* Drop in when class is active */
    .dancers.dancers-on .dancer-group {
      transform: translateX(-50%) translateY(0);
      opacity: 1;
    }

    .dancer {
      width: 34px;
      height: 70px;
      position: relative;
      transform-origin: center bottom;
    }

    /* Base pieces */

    .dancer-head {
      width: 14px;
      height: 14px;
      border-radius: 50%;
      border: 2px solid #111827;
      position: absolute;
      top: 0;
      left: 50%;
      transform: translateX(-50%);
      background: #f9fafb;
    }

    .dancer-body {
      position: absolute;
      top: 14px;
      left: 50%;
      width: 2px;
      height: 24px;
      background: #111827;
      transform: translateX(-50%);
      transform-origin: top center;
    }

    .dancer-arm-left,
    .dancer-arm-right {
      position: absolute;
      top: 18px;
      width: 20px; /* longer arms */
      height: 2px;
      background: #111827;
    }

    .dancer-arm-left {
      left: 50%;
      transform-origin: right center;
      transform: translateX(-50%) rotate(-10deg);
    }

    .dancer-arm-right {
      right: 50%;
      transform-origin: left center;
      transform: translateX(50%) rotate(10deg);
    }

    .dancer-leg-left,
    .dancer-leg-right {
      position: absolute;
      top: 36px;
      width: 2px;
      height: 22px;
      background: #111827;
      transform-origin: top center;
    }

    .dancer-leg-left {
      left: 48%;
      transform: rotate(-10deg);
    }

    .dancer-leg-right {
      left: 52%;
      transform: rotate(10deg);
    }

    /* Funk / robot / breakdance sequences while playing */

    body.playing .dancer-left {
      animation: dancer-left-sequence 2.2s linear infinite;
    }

    body.playing .dancer-right {
      animation: dancer-right-sequence 2.4s linear infinite;
    }

    body.playing .dancer-left .dancer-arm-left {
      animation: arm-robot-left 1s steps(4, end) infinite;
    }

    body.playing .dancer-left .dancer-arm-right {
      animation: arm-robot-right 1s steps(4, end) infinite;
    }

    body.playing .dancer-right .dancer-arm-left {
      animation: arm-wave-left 1.4s ease-in-out infinite;
    }

    body.playing .dancer-right .dancer-arm-right {
      animation: arm-wave-right 1.4s ease-in-out infinite;
    }

    body.playing .dancer-left .dancer-leg-left {
      animation: leg-pop-left 1s ease-in-out infinite;
    }

    body.playing .dancer-left .dancer-leg-right {
      animation: leg-pop-right 1s ease-in-out infinite;
    }

    body.playing .dancer-right .dancer-leg-left,
    body.playing .dancer-right .dancer-leg-right {
      animation: leg-break 1.6s ease-in-out infinite;
    }

    body.playing .dancer .dancer-head {
      animation: head-pop 0.7s ease-in-out infinite alternate;
    }

    /* Dive off each side when music stops */
    .dancers.dancers-on.dive .dancer-left {
      animation: dive-left 0.7s ease-in;
    }

    .dancers.dancers-on.dive .dancer-right {
      animation: dive-right 0.7s ease-in;
    }

    /* Footer */

    .footer-note {
      max-width: 320px;
      font-size: 11px;
      text-align: center;
      color: #4b5563;
    }

    @media (max-width: 400px) {
      .ipod {
        width: 260px;
        height: 430px;
        padding: 20px 16px;
      }
      .wheel {
        width: 185px;
        height: 185px;
      }
      .wheel-center {
        width: 76px;
        height: 76px;
      }
    }

    /* Animations */

    @keyframes scroll-title {
      0%   { transform: translateX(0); }
      100% { transform: translateX(-60%); }
    }

    @keyframes eq-bounce {
      0%,100% { transform: scaleY(0.4); }
      50%     { transform: scaleY(1); }
    }

    /* Dancer keyframes */

    @keyframes dancer-left-sequence {
      0%   { transform: translateY(0) rotate(0deg); }
      10%  { transform: translateY(-4px) rotate(-5deg); }
      20%  { transform: translateY(0) rotate(5deg); }
      30%  { transform: translateY(-6px) rotate(0deg); }
      40%  { transform: translateY(0) rotate(-8deg); }
      50%  { transform: translateY(0) rotate(8deg); }
      60%  { transform: translateY(-8px) rotate(0deg); }
      75%  { transform: translateY(2px) rotate(0deg) scale(1.05); }
      100% { transform: translateY(0) rotate(-8deg); }
    }

    @keyframes dancer-right-sequence {
      0%   { transform: translateY(0) rotate(0deg); }
      15%  { transform: translateY(-4px) rotate(4deg); }
      30%  { transform: translateY(0) rotate(-4deg); }
      45%  { transform: translateY(-5px) rotate(6deg); }
      60%  { transform: translateY(4px) rotate(-4deg) scale(0.98); }
      80%  { transform: translateY(-10px) rotate(0deg) scale(1.1); }
      100% { transform: translateY(0) rotate(0deg); }
    }

    @keyframes arm-robot-left {
      0%   { transform: translateX(-50%) rotate(-5deg); }
      25%  { transform: translateX(-50%) rotate(-45deg); }
      50%  { transform: translateX(-50%) rotate(-5deg); }
      75%  { transform: translateX(-50%) rotate(-70deg); }
      100% { transform: translateX(-50%) rotate(-5deg); }
    }

    @keyframes arm-robot-right {
      0%   { transform: translateX(50%) rotate(5deg); }
      25%  { transform: translateX(50%) rotate(45deg); }
      50%  { transform: translateX(50%) rotate(5deg); }
      75%  { transform: translateX(50%) rotate(70deg); }
      100% { transform: translateX(50%) rotate(5deg); }
    }

    @keyframes arm-wave-left {
      0%   { transform: translateX(-50%) rotate(-15deg); }
      25%  { transform: translateX(-50%) rotate(-40deg); }
      50%  { transform: translateX(-50%) rotate(-10deg); }
      75%  { transform: translateX(-50%) rotate(-50deg); }
      100% { transform: translateX(-50%) rotate(-15deg); }
    }

    @keyframes arm-wave-right {
      0%   { transform: translateX(50%) rotate(15deg); }
      25%  { transform: translateX(50%) rotate(40deg); }
      50%  { transform: translateX(50%) rotate(10deg); }
      75%  { transform: translateX(50%) rotate(50deg); }
      100% { transform: translateX(50%) rotate(15deg); }
    }

    @keyframes leg-pop-left {
      0%   { transform: rotate(-8deg); }
      25%  { transform: rotate(-25deg); }
      50%  { transform: rotate(-5deg); }
      75%  { transform: rotate(-30deg); }
      100% { transform: rotate(-8deg); }
    }

    @keyframes leg-pop-right {
      0%   { transform: rotate(8deg); }
      25%  { transform: rotate(25deg); }
      50%  { transform: rotate(5deg); }
      75%  { transform: rotate(30deg); }
      100% { transform: rotate(8deg); }
    }

    @keyframes leg-break {
      0%   { transform: rotate(6deg); }
      20%  { transform: rotate(-20deg); }
      40%  { transform: rotate(20deg); }
      60%  { transform: rotate(-30deg); }
      80%  { transform: rotate(30deg); }
      100% { transform: rotate(6deg); }
    }

    @keyframes head-pop {
      0%   { transform: translateX(-50%) translateY(0); }
      30%  { transform: translateX(-50%) translateY(2px); }
      60%  { transform: translateX(-50%) translateY(-1px); }
      100% { transform: translateX(-50%) translateY(1px); }
    }

    /* Dive off each side */
    @keyframes dive-left {
      0%   { transform: translateY(0) translateX(0) rotate(0deg); opacity: 1; }
      50%  { transform: translateY(10px) translateX(-10px) rotate(-15deg); opacity: 0.9; }
      100% { transform: translateY(60px) translateX(-80px) rotate(-45deg); opacity: 0; }
    }

    @keyframes dive-right {
      0%   { transform: translateY(0) translateX(0) rotate(0deg); opacity: 1; }
      50%  { transform: translateY(10px) translateX(10px) rotate(15deg); opacity: 0.9; }
      100% { transform: translateY(60px) translateX(80px) rotate(45deg); opacity: 0; }
    }
  </style>
</head>
<body>
  <div class="ipod-wrapper">
    <!-- Stick figure dancers on top of iPod -->
    <div class="dancers">
      <div class="dancer-group">
        <div class="dancer dancer-left">
          <div class="dancer-head"></div>
          <div class="dancer-body"></div>
          <div class="dancer-arm-left"></div>
          <div class="dancer-arm-right"></div>
          <div class="dancer-leg-left"></div>
          <div class="dancer-leg-right"></div>
        </div>
        <div class="dancer dancer-right">
          <div class="dancer-head"></div>
          <div class="dancer-body"></div>
          <div class="dancer-arm-left"></div>
          <div class="dancer-arm-right"></div>
          <div class="dancer-leg-left"></div>
          <div class="dancer-leg-right"></div>
        </div>
      </div>
    </div>

    <div class="ipod">
      <div class="screen">
        <div class="screen-top">
          <div class="screen-top-left">iPod</div>
          <div class="screen-top-right">
            <span id="screen-count">1/1</span>
            <span class="play-indicator" id="play-indicator"></span>
            <div class="screen-battery">
              <div class="screen-battery-level"></div>
            </div>
          </div>
        </div>

        <div class="screen-title-row">
          <span id="screen-title"></span>
          <span>&gt;</span>
        </div>

        <div class="screen-body" id="screen-body"></div>

        <div class="screen-footer" id="screen-footer">
          <!-- dots injected by JS -->
        </div>
      </div>

      <div class="wheel">
        <div class="wheel-button top" id="btn-menu">Menu</div>
        <div class="wheel-button left" id="btn-prev">
          <span class="wheel-button-icon">◀◀</span>
        </div>
        <div class="wheel-button right" id="btn-next">
          <span class="wheel-button-icon">▶▶</span>
        </div>
        <div class="wheel-button bottom" id="btn-play">
          <span class="wheel-button-icon" id="btn-play-icon">▶║║</span>
        </div>
        <div class="wheel-center" id="btn-center">Select</div>
      </div>
    </div>
  </div>

  <p class="footer-note">
    Created by James Wilson in the ongoing pursuit of understanding what software
    engineers are building - one tiny retro web experiment at a time.
  </p>

  <!-- Hidden YouTube player -->
  <div style="display:none;">
    <div id="ytplayer"></div>
  </div>

  <!-- YouTube API -->
  <script src="https://www.youtube.com/iframe_api"></script>

  <script>
    // Links
    const LINKEDIN_URL = "https://www.linkedin.com/in/james-wilson-92170656/";
    const EMAIL_ADDRESS = "jameswilson11@gmail.com";
    const GITHUB_URL = "https://github.com/JamesWilsonLondon";

    // YouTube config
    const YOUTUBE_VIDEO_ID = "md2fPTglLSI";

    let ytPlayer;
    let ytReady = false;
    let pendingPlay = false;

    let isPlaying = false;
    let volume = 70; // 0-100
    let progress = 0;
    let progressTimer = null;
    let diveTimeout = null;

    const dancersEl = document.querySelector(".dancers");

    // Called by YouTube API when script has loaded
    function onYouTubeIframeAPIReady() {
      ytPlayer = new YT.Player("ytplayer", {
        height: "0",
        width: "0",
        videoId: YOUTUBE_VIDEO_ID,
        playerVars: {
          autoplay: 0,
          controls: 0,
          rel: 0,
          modestbranding: 1
        },
        events: {
          onReady: function () {
            ytReady = true;
            ytPlayer.setVolume(volume);

            // If user already hit Play before we were ready, start playback now
            if (pendingPlay) {
              pendingPlay = false;
              isPlaying = true;
              ytPlayer.playVideo();
              updatePlayUI();
            }
          },
          onStateChange: function (event) {
            if (event.data === YT.PlayerState.ENDED) {
              isPlaying = false;
              updatePlayUI();
            }
          }
        }
      });
    }

    const screens = [
      {
        title: "Now Playing",
        kind: "nowPlaying",
        body:
          '<div class="np-track">' +
            '<div class="np-title-wrapper">' +
              '<div class="np-title" id="np-title">Focus mix · YouTube stream</div>' +
            '</div>' +
            '<div class="np-sub">Press ▶║║ to play / pause</div>' +
          '</div>' +
          '<div class="np-bar"><div class="np-bar-fill" id="np-bar-fill"></div></div>' +
          '<div class="np-bottom-row">' +
            '<div class="np-volume">Vol <span id="np-volume-val">70</span>%</div>' +
            '<div class="np-eq">' +
              '<span class="eq-bar"></span>' +
              '<span class="eq-bar"></span>' +
              '<span class="eq-bar"></span>' +
              '<span class="eq-bar"></span>' +
              '<span class="eq-bar"></span>' +
            '</div>' +
          '</div>'
      },
      {
        title: "Playlist",
        body:
          '<ul class="menu-list">' +
            '<li class="menu-item menu-item-active">Deep focus mix (YouTube)</li>' +
            '<li class="menu-item">About James</li>' +
            '<li class="menu-item">Life & work</li>' +
            '<li class="menu-item">Get in touch</li>' +
          '</ul>'
      },
      {
        title: "About James",
        body: "Australian export living in Spain.<br>Works the London startup scene.<br>Recruiter, dad and former rower.<br>Still trying to live like it is 2008."
      },
      {
        title: "Where I am from",
        body: "Grew up in Geelong.<br>Studied business and marketing at uni in Melbourne.<br>Short but fun London chapter.<br>Now living in Spain."
      },
      {
        title: "What I do",
        body: "I help startups hire software engineers, mostly product focused roles in London.<br><br>Quality over quantity.<br>I understand how startups and founders think."
      },
      {
        title: "Past lives",
        body: "Rowed professionally as a lightweight.<br>Trained, worked and studied all at once.<br>Worked for Sykes, Australia\u2019s biggest rowing boat builder.<br>Also DJ\u2019d. Did not quite make Ibiza."
      },
      {
        title: "Life now",
        body: "Living in Spain with my wife and two boys.<br>Work remote and recruit globally.<br>Doing my best to minimise the onset of the dad bod.<br>I enjoy running and training when I can fit it in."
      },
      {
        title: "Things I love",
        body: "Macs, always.<br>Coffee. Leaving Melbourne hurt.<br>Good engineers and startups that push boundaries.<br>And last, but definitely not least, my family."
      },
      {
        title: "Get in touch",
        body:
          'Best way to reach me is online.<br><br>' +
          'LinkedIn: <a class="screen-link" href="' + LINKEDIN_URL + '" target="_blank" rel="noreferrer">connect</a><br>' +
          'Email: <a class="screen-link" href="mailto:' + EMAIL_ADDRESS + '">' + EMAIL_ADDRESS + '</a><br>' +
          'GitHub: <a class="screen-link" href="' + GITHUB_URL + '" target="_blank" rel="noreferrer">profile</a>'
      }
    ];

    let currentIndex = 0;

    const titleEl = document.getElementById("screen-title");
    const bodyEl = document.getElementById("screen-body");
    const countEl = document.getElementById("screen-count");
    const footerEl = document.getElementById("screen-footer");
    const playIndicatorEl = document.getElementById("play-indicator");
    const playBtnIconEl = document.getElementById("btn-play-icon");

    function renderDots(activeIndex) {
      footerEl.innerHTML = "";
      for (let i = 0; i < screens.length; i++) {
        const dot = document.createElement("div");
        dot.className = "screen-index-dot" + (i === activeIndex ? " active" : "");
        footerEl.appendChild(dot);
      }
    }

    function renderScreen(index) {
      const screen = screens[index];
      titleEl.textContent = screen.title;
      bodyEl.innerHTML = screen.body;
      countEl.textContent = (index + 1) + "/" + screens.length;
      renderDots(index);

      if (index === 0) {
        const volEl = document.getElementById("np-volume-val");
        if (volEl) volEl.textContent = volume;
        const barEl = document.getElementById("np-bar-fill");
        if (barEl) barEl.style.width = progress + "%";
      }
    }

    function nextScreen() {
      currentIndex = (currentIndex + 1) % screens.length;
      renderScreen(currentIndex);
    }

    function prevScreen() {
      currentIndex = (currentIndex - 1 + screens.length) % screens.length;
      renderScreen(currentIndex);
    }

    function changeVolume(delta) {
      volume = Math.max(0, Math.min(100, volume + delta));
      if (ytReady && ytPlayer && ytPlayer.setVolume) {
        ytPlayer.setVolume(volume);
      }
      const volEl = document.getElementById("np-volume-val");
      if (volEl) volEl.textContent = volume;
    }

    function startProgress() {
      stopProgress();
      progressTimer = setInterval(() => {
        progress = (progress + 1) % 100;
        const barEl = document.getElementById("np-bar-fill");
        if (barEl) barEl.style.width = progress + "%";
      }, 800);
    }

    function stopProgress() {
      if (progressTimer) {
        clearInterval(progressTimer);
        progressTimer = null;
      }
    }

    function updatePlayUI() {
      if (isPlaying) {
        document.body.classList.add("playing");
        playIndicatorEl.textContent = "▶";
        if (playBtnIconEl) playBtnIconEl.textContent = "║║";
        startProgress();

        if (dancersEl) {
          if (diveTimeout) {
            clearTimeout(diveTimeout);
            diveTimeout = null;
          }
          dancersEl.classList.remove("dive");
          dancersEl.classList.add("dancers-on"); // dancers drop in
        }
      } else {
        document.body.classList.remove("playing");
        playIndicatorEl.textContent = "";
        if (playBtnIconEl) playBtnIconEl.textContent = "▶║║";
        stopProgress();

        if (dancersEl && dancersEl.classList.contains("dancers-on")) {
          // Trigger dive animation
          dancersEl.classList.add("dive");
          if (!diveTimeout) {
            diveTimeout = setTimeout(() => {
              dancersEl.classList.remove("dancers-on");
              dancersEl.classList.remove("dive");
              diveTimeout = null;
            }, 750);
          }
        }
      }
    }

    function togglePlayPause() {
      // If YouTube not ready yet, remember intent and let onReady handle it
      if (!ytReady || !ytPlayer || !ytPlayer.playVideo) {
        if (!isPlaying) {
          pendingPlay = true;
        }
        return;
      }

      if (isPlaying) {
        ytPlayer.pauseVideo();
        isPlaying = false;
      } else {
        ytPlayer.playVideo();
        ytPlayer.setVolume(volume);
        isPlaying = true;
      }
      updatePlayUI();
    }

    // Button wiring

    document.getElementById("btn-next").addEventListener("click", () => {
      if (currentIndex === 0) {
        changeVolume(5); // volume up on Now Playing
      } else {
        nextScreen();
      }
    });

    document.getElementById("btn-prev").addEventListener("click", () => {
      if (currentIndex === 0) {
        changeVolume(-5); // volume down on Now Playing
      } else {
        prevScreen();
      }
    });

    // Menu jumps to Playlist
    document.getElementById("btn-menu").addEventListener("click", () => {
      currentIndex = 1;
      renderScreen(currentIndex);
    });

    // Centre cycles through screens
    document.getElementById("btn-center").addEventListener("click", nextScreen);

    // Play / pause works from any screen
    document.getElementById("btn-play").addEventListener("click", togglePlayPause);

    // Initial render
    renderScreen(currentIndex);
  </script>
</body>
</html>
